---
import DocsLayout from '../layouts/DocsLayout.astro';
---

<DocsLayout
  title="CLI Usage"
  description="Command-line usage reference for the gt (Gas Town) CLI tool"
>
  <p class="intro">
    This page documents the <code>gt</code> command-line interface. The help output below
    is automatically generated from the installed version of <strong>Gas Town v0.5.0</strong>.
  </p>
  <p class="intro">
    Select a command from the sidebar to see its detailed help.
  </p>

  <section class="main-help">
    <h2>Overview</h2>
    <pre class="help-output">Gas Town (gt) manages multi-agent workspaces called rigs.

It coordinates agent spawning, work distribution, and communication
across distributed teams of AI agents working on shared codebases.

Usage:
  gt [command]

Work Management:
  bead        Bead management utilities
  cat         Display bead content
  close       Close one or more beads
  commit      Git commit with automatic agent identity
  convoy      Track batches of work across rigs
  done        Signal work ready for merge queue
  formula     Manage workflow formulas
  gate        Gate coordination commands
  handoff     Hand off to a fresh session, work continues from hook
  hook        Show or attach work on your hook
  mol         Agent molecule workflow commands
  mq          Merge queue operations
  orphans     Find lost polecat work
  park        Park work on a gate for async resumption
  ready       Show work ready across town
  release     Release stuck in_progress issues back to pending
  resume      Resume from parked work or check for handoff messages
  show        Show details of a bead
  sling       Assign work to an agent (THE unified work dispatch command)
  synthesis   Manage convoy synthesis steps
  trail       Show recent agent activity
  unsling     Remove work from an agent's hook

Agent Management:
  agents      Switch between Gas Town agent sessions
  boot        Manage Boot (Deacon watchdog)
  callbacks   Handle agent callbacks
  deacon      Manage the Deacon (town-level watchdog)
  dog         Manage dogs (cross-rig infrastructure workers)
  mayor       Manage the Mayor (Chief of Staff for cross-rig coordination)
  polecat     Manage polecats (ephemeral workers, one task then nuked)
  refinery    Manage the Refinery (merge queue processor)
  role        Show or manage agent role
  session     Manage polecat sessions
  witness     Manage the Witness (per-rig polecat health monitor)

Communication:
  broadcast   Send a nudge message to all workers
  dnd         Toggle Do Not Disturb mode for notifications
  escalate    Escalation system for critical issues
  mail        Agent messaging system
  notify      Set notification level
  nudge       Send a synchronous message to any Gas Town worker
  peek        View recent output from a polecat or crew session

Services:
  daemon      Manage the Gas Town daemon
  down        Stop all Gas Town services
  shutdown    Shutdown Gas Town with cleanup
  start       Start Gas Town or a crew workspace
  up          Bring up all Gas Town services

Workspace:
  crew        Manage crew workers (persistent workspaces for humans)
  git-init    Initialize git repository for a Gas Town HQ
  init        Initialize current directory as a Gas Town rig
  install     Create a new Gas Town HQ (workspace)
  namepool    Manage polecat name pools
  rig         Manage rigs in the workspace
  worktree    Create worktree in another rig for cross-rig work

Configuration:
  account     Manage Claude Code accounts
  completion  Generate the autocompletion script for the specified shell
  config      Manage Gas Town configuration
  disable     Disable Gas Town system-wide
  enable      Enable Gas Town system-wide
  hooks       List all Claude Code hooks in the workspace
  issue       Manage current issue for status line display
  plugin      Plugin management
  shell       Manage shell integration
  theme       View or set tmux theme for the current rig
  uninstall   Remove Gas Town from the system

Diagnostics:
  activity    Emit and view activity events
  audit       Query work history by actor
  checkpoint  Manage session checkpoints for crash recovery
  costs       Show costs for running Claude sessions [DISABLED]
  dashboard   Start the convoy tracking web dashboard
  doctor      Run health checks on the workspace
  feed        Show real-time activity feed from beads and gt events
  help        Help about any command
  info        Show Gas Town information and what's new
  log         View town activity log
  patrol      Patrol digest management
  prime       Output role context for current directory
  seance      Talk to your predecessor sessions
  stale       Check if the gt binary is stale
  status      Show overall town status
  thanks      Thank the human contributors to Gas Town
  version     Print version information
  whoami      Show current identity for mail commands

Additional Commands:
  cycle       Cycle between sessions in the same group
  tap         Claude Code hook handlers
  town        Town-level operations

Flags:
  -h, --help      help for gt
  -v, --version   version for gt

Use &quot;gt [command] --help&quot; for more information about a command.
</pre>
  </section>
</DocsLayout>

<style>
  .intro {
    font-size: 1.0625rem;
    line-height: 1.7;
    margin-bottom: 1rem;
    color: var(--color-text);
  }

  .main-help {
    margin-bottom: 3rem;
  }

  .help-output {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 1.5rem;
    border-radius: 4px;
    overflow-x: auto;
    font-family: var(--font-mono);
    font-size: 0.875rem;
    line-height: 1.5;
    white-space: pre-wrap;
    word-break: break-word;
  }
</style>
