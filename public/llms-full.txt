# Gas Town Hall - Complete LLM Reference

> Gas Town Hall is the documentation and resource hub for Gas Town, an open source orchestration layer for AI coding agents. Gas Town helps you manage multiple Claude Code instances simultaneouslyâ€”tracking accountability, measuring quality, and scaling AI-assisted engineering workflows.

## Quick Summary

- **What:** Orchestration layer for AI coding agents
- **Problem Solved:** Accountability, quality measurement, work routing, and agent coordination at scale
- **Key Concepts:** Convoys (batch work tracking), Polecats (ephemeral workers), Crew (persistent workers), Beads (atomic work units)
- **Core Principle:** GUPP - "If there is work on your Hook, YOU MUST RUN IT"

## Links

- Website: https://gastownhall.ai
- Documentation: https://docs.gastownhall.ai
- GitHub: https://github.com/steveyegge/gastown
- Short LLM reference: https://gastownhall.ai/llms.txt

Last updated: 2026-01-24

---

## Key Terms and Concepts

### MEOW (Molecular Expression of Work)
Breaking large goals into detailed instructions for agents. Supported by Beads, Epics, Formulas, and Molecules. MEOW ensures work is decomposed into trackable, atomic units that agents can execute ...

### GUPP (Gas Town Universal Propulsion Principle)
"If there is work on your Hook, YOU MUST RUN IT." This principle ensures agents autonomously proceed with available work without waiting for external input. GUPP is the heartbeat of autonomous oper...

### NDI (Nondeterministic Idempotence)
The overarching goal ensuring useful outcomes through orchestration of potentially unreliable processes. Persistent Beads and oversight agents (Witness, Deacon) guarantee eventual workflow completi...

### Town
The management headquarters (e.g., `~/gt/`). The Town coordinates all workers across multiple Rigs and houses town-level agents like Mayor and Deacon.

### Rig
A project-specific Git repository under Gas Town management. Each Rig has its own Polecats, Refinery, Witness, and Crew members. Rigs are where actual development work happens.

### Mayor
Chief-of-staff agent responsible for initiating Convoys, coordinating work distribution, and notifying users of important events. The Mayor operates from the town level and has visibility across al...

### Deacon
Daemon beacon running continuous Patrol cycles. The Deacon ensures worker activity, monitors system health, and triggers recovery when agents become unresponsive. Think of the Deacon as the system'...

### Dogs
The Deacon's crew of maintenance agents handling background tasks like cleanup, health checks, and system maintenance.

### Boot (the Dog)
A special Dog that checks the Deacon every 5 minutes, ensuring the watchdog itself is still watching. This creates a chain of accountability.

### Polecat
Ephemeral worker agents that produce Merge Requests. Polecats are spawned for specific tasks, complete their work, and are then cleaned up. They work in isolated git worktrees to avoid conflicts.

### Refinery
Manages the Merge Queue for a Rig. The Refinery intelligently merges changes from Polecats, handling conflicts and ensuring code quality before changes reach the main branch.

### Witness
Patrol agent that oversees Polecats and the Refinery within a Rig. The Witness monitors progress, detects stuck agents, and can trigger recovery actions.

### Crew
Long-lived, named agents for persistent collaboration. Unlike ephemeral Polecats, Crew members maintain context across sessions and are ideal for ongoing work relationships.

### Bead
Git-backed atomic work unit stored in JSONL format. Beads are the fundamental unit of work tracking in Gas Town. They can represent issues, tasks, epics, or any trackable work item.

### Formula
TOML-based workflow source template. Formulas define reusable patterns for common operations like patrol cycles, code review, or deployment.

### Protomolecule
A template class for instantiating Molecules. Protomolecules define the structure and steps of a workflow without being tied to specific work items.

### Molecule
Durable chained Bead workflows. Molecules represent multi-step processes where each step is tracked as a Bead. They survive agent restarts and ensure complex workflows complete.

### Wisp
Ephemeral Beads destroyed after runs. Wisps are lightweight work items used for transient operations that don't need permanent tracking.

### Hook
A special pinned Bead for each agent. The Hook is an agent's primary work queue - when work appears on your Hook, GUPP dictates you must run it.

### Convoy
Primary work-order wrapping related Beads. Convoys group related tasks together and can be assigned to multiple workers. Created with `gt convoy create`.

### Slinging
Assigning work to agents via `gt sling`. When you sling work to a Polecat or Crew member, you're putting it on their Hook for execution.

### Nudging
Real-time messaging between agents with `gt nudge`. Nudges allow immediate communication without going through the mail system.

### Handoff
Agent session refresh via `/handoff`. When context gets full or an agent needs a fresh start, handoff transfers work state to a new session.

### Seance
Communicating with previous sessions via `gt seance`. Allows agents to query their predecessors for context and decisions from earlier work.

### Patrol
Ephemeral loop maintaining system heartbeat. Patrol agents (Deacon, Witness) continuously cycle through health checks and trigger actions as needed.

---

*This glossary was contributed by [Clay Sh...

---

## Why Gas Town Exists

This document provides a conceptual overview of Gas Town's architecture, focusing on
the role taxonomy and how different agents interact.

---

## Core Concepts

### Convoys
Convoys are the primary unit for tracking batched work across rigs.

### Agent Identity and Attribution
> Canonical format for agent identity in Gas Town

### Molecules
Molecules are workflow templates that coordinate multi-step work in Gas Town.

### Polecat Lifecycle
> Understanding the three-layer architecture of polecat workers

### The Propulsion Principle
> **If you find something on your hook, YOU RUN IT.**

Gas Town is a steam engine. Agents are pistons. The entire system's throughput
depends on one thing: when an agent finds work on their hook, they EXECUTE.

---

## Architecture & Design

### Gas Town Architecture
Technical architecture for Gas Town multi-agent workspace management.

### Convoy Lifecycle Design
> Making convoys actively converge on completion.

### Dog Pool Architecture for Concurrent Shutdown Dances
> Design document for gt-fsld8

### Escalation System Design
> Detailed design for the Gas Town unified escalation system.
> Written 2026-01-11, crew/george session.
> Parent epic: gt-i9r20

### Gas Town Escalation Protocol
> Reference for escalation paths in Gas Town

### Federation Architecture
> **Status: Design spec - not yet implemented**

> Multi-workspace coordination for Gas Town and Beads

### Gas Town Mail Protocol
> Reference for inter-agent mail communication in Gas Town

### Operational State in Gas Town
> Managing runtime state through events and labels.

### Plugin System Design
> Design document for the Gas Town plugin system.
> Written 2026-01-11, crew/george session.

### Property Layers: Multi-Level Configuration
> Implementation guide for Gas Town's configuration system.
> Created: 2025-01-06

### Daemon/Boot/Deacon Watchdog Chain
> Autonomous health monitoring and recovery in Gas Town.

---

## CLI Quick Reference

### Town Management (gt)
- `gt install [path]` - Create town
- `gt doctor` - Health check
- `gt doctor --fix` - Auto-repair

### Convoy Management
- `gt convoy list` - Dashboard of active convoys
- `gt convoy create "name" [issues...]` - Create convoy tracking issues
- `gt convoy status [convoy-id]` - Show progress

### Work Assignment
- `gt sling <bead> <rig>` - Assign work to polecat
- `gt hook` - What's on my hook

### Sessions
- `gt handoff` - Request session cycle
- `gt nudge <agent> "message"` - Send message to agent
- `gt peek <agent>` - Check agent health

### Beads Commands (bd)
- `bd list --status=open` - List open issues
- `bd ready` - Work with no blockers
- `bd show <id>` - Show issue details
- `bd create --title="..."` - Create new issue
- `bd close <id>` - Close issue

### Molecule Commands
- `bd formula list` - Available formulas
- `bd mol pour <proto>` - Create molecule
- `bd mol wisp <proto>` - Create ephemeral wisp
- `gt mol current` - What should I work on next

---

## Use Cases

### Managing Multiple Coding Agents
Gas Town lets you run multiple Claude Code instances in parallel, each working on separate tasks. The Witness monitors their progress, the Refinery merges their work, and Convoys track the overall status.

### Tracking Agent Quality and Reliability
Every action is attributed to its agent (`BD_ACTOR`). You can compare model performance, track completion times, and identify which agents need tuning.

### Cross-Repository Coordination
Work can span multiple "rigs" (repositories). Convoys provide a unified view of work in flight across your entire town.

### A/B Testing Models
Deploy different models on similar tasks and compare outcomes with `bd stats --group-by=model`.

---

## Role Summary

| Role | Type | Description |
|------|------|-------------|
| Mayor | Infrastructure | Global coordinator, initiates convoys |
| Deacon | Infrastructure | Background supervisor daemon |
| Witness | Infrastructure | Per-rig polecat lifecycle manager |
| Refinery | Infrastructure | Per-rig merge queue processor |
| Polecat | Worker | Ephemeral worker with own worktree |
| Crew | Worker | Persistent worker with own clone |
| Dog | Helper | Deacon helper for infrastructure tasks |

---

*This is the complete LLM reference for Gas Town. For the short version, see https://gastownhall.ai/llms.txt*
