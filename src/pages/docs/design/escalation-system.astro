---
import DocsLayout from '../../../layouts/DocsLayout.astro';

const content = "<p>\n> Detailed design for the Gas Town unified escalation system.\n> Written 2026-01-11, crew/george session.\n> Parent epic: gt-i9r20\n</p>\n<h2>Problem Statement</h2>\n<p>\nCurrent escalation is ad-hoc \"mail Mayor\". Issues:\n</p>\n<ul><li>Mayor gets backlogged easily (especially during swarms)</li>\n<li>No severity differentiation</li>\n<li>No alternative channels (email, SMS, Slack)</li>\n<li>No tracking of stale/unacknowledged escalations</li>\n<li>No visibility into escalation history</li>\n</ul>\n<h2>Design Goals</h2>\n<p>\n1. <strong>Unified API</strong>: Single <code>gt escalate</code> command for all escalation needs\n2. <strong>Severity-based routing</strong>: Different severities go to different channels\n3. <strong>Config-driven</strong>: Town config controls routing, no code changes needed\n4. <strong>Audit trail</strong>: All escalations tracked as beads\n5. <strong>Stale detection</strong>: Unacknowledged escalations re-escalate automatically\n6. <strong>Extensible</strong>: Easy to add new notification channels\n</p>\n<p>\n---\n</p>\n<h2>Architecture</h2>\n<h3>Components</h3>\n<pre><code class=\"language-text\">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n<p>\nâ”‚                    gt escalate command                       â”‚\nâ”‚  --severity --subject --body --source                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                      â”‚\n                      â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                  Escalation Manager                          â”‚\nâ”‚  1. Read config (settings/escalation.json)                  â”‚\nâ”‚  2. Create escalation bead                                   â”‚\nâ”‚  3. Execute route actions for severity                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                      â”‚\n          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n          â–¼           â–¼           â–¼           â–¼\n      â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”\n      â”‚ Bead  â”‚  â”‚  Mail   â”‚  â”‚ Email â”‚  â”‚  SMS  â”‚\n      â”‚Create â”‚  â”‚ Action  â”‚  â”‚Action â”‚  â”‚Action â”‚\n      â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>\n</p>\n<h3>Data Flow</h3>\n<p>\n1. Agent calls <code>gt escalate --severity=high --subject=\"...\" --body=\"...\"</code>\n2. Command loads escalation config from <code>settings/escalation.json</code>\n3. Creates escalation bead with severity, subject, body, source labels\n4. Looks up route for severity level\n5. Executes each action in the route (bead already created, then mail, email, etc.)\n6. Returns escalation bead ID\n</p>\n<h3>Stale Escalation Flow</h3>\n<p>\n1. Deacon patrol (or plugin) runs <code>gt escalate stale</code>\n2. Queries for escalation beads older than threshold without <code>acknowledged:true</code>\n3. For each stale escalation:\n   - Bump severity (lowâ†’medium, mediumâ†’high, highâ†’critical)\n   - Re-execute route for new severity\n   - Add <code>reescalated:true</code> label and timestamp\n</p>\n<p>\n---\n</p>\n<h2>Configuration</h2>\n<h3>File Location</h3>\n<code>~/gt/settings/escalation.json</code>\n<p>\nThis follows the existing pattern where <code>~/gt/settings/</code> contains town-level behavioral config.\n</p>\n<h3>Schema</h3>\n<pre><code class=\"language-go\">// EscalationConfig represents escalation routing configuration.\n<p>\ntype EscalationConfig struct {\n    Type    string <code>json:&quot;type&quot;</code>    // &quot;escalation&quot;\n    Version int    <code>json:&quot;version&quot;</code> // schema version\n</p>\n<p>\n    // Routes maps severity levels to action lists.\n    // Actions are executed in order.\n    Routes map[string][]string <code>json:&quot;routes&quot;</code>\n</p>\n<p>\n    // Contacts contains contact information for actions.\n    Contacts EscalationContacts <code>json:&quot;contacts&quot;</code>\n</p>\n<p>\n    // StaleThreshold is how long before an unacknowledged escalation\n    // is considered stale and gets re-escalated. Default: &quot;4h&quot;\n    StaleThreshold string <code>json:&quot;stale_threshold,omitempty&quot;</code>\n</p>\n<p>\n    // MaxReescalations limits how many times an escalation can be\n    // re-escalated. Default: 2 (lowâ†’mediumâ†’high, then stops)\n    MaxReescalations int <code>json:&quot;max_reescalations,omitempty&quot;</code>\n}\n</p>\n<p>\n// EscalationContacts contains contact information.\ntype EscalationContacts struct {\n    HumanEmail string <code>json:&quot;human_email,omitempty&quot;</code>\n    HumanSMS   string <code>json:&quot;human_sms,omitempty&quot;</code>\n    SlackWebhook string <code>json:&quot;slack_webhook,omitempty&quot;</code>\n}\n</p>\n<p>\nconst CurrentEscalationVersion = 1</code></pre>\n</p>\n<h3>Default Configuration</h3>\n<pre><code class=\"language-json\">{\n<p>\n  &quot;type&quot;: &quot;escalation&quot;,\n  &quot;version&quot;: 1,\n  &quot;routes&quot;: {\n    &quot;low&quot;: [&quot;bead&quot;],\n    &quot;medium&quot;: [&quot;bead&quot;, &quot;mail:mayor&quot;],\n    &quot;high&quot;: [&quot;bead&quot;, &quot;mail:mayor&quot;, &quot;email:human&quot;],\n    &quot;critical&quot;: [&quot;bead&quot;, &quot;mail:mayor&quot;, &quot;email:human&quot;, &quot;sms:human&quot;]\n  },\n  &quot;contacts&quot;: {\n    &quot;human_email&quot;: &quot;&quot;,\n    &quot;human_sms&quot;: &quot;&quot;\n  },\n  &quot;stale_threshold&quot;: &quot;4h&quot;,\n  &quot;max_reescalations&quot;: 2\n}</code></pre>\n</p>\n<h3>Action Types</h3>\n<table><tr><td>Action</td><td>Format</td><td>Behavior</td></tr>\n</table>\n<table><tr><td><code>bead</code></td><td><code>bead</code></td><td>Create escalation bead (always first, implicit)</td></tr>\n<tr><td><code>mail:<target></code></td><td><code>mail:mayor</code></td><td>Send gt mail to target</td></tr>\n<tr><td><code>email:human</code></td><td><code>email:human</code></td><td>Send email to <code>contacts.human_email</code></td></tr>\n<tr><td><code>sms:human</code></td><td><code>sms:human</code></td><td>Send SMS to <code>contacts.human_sms</code></td></tr>\n<tr><td><code>slack</code></td><td><code>slack</code></td><td>Post to <code>contacts.slack_webhook</code></td></tr>\n<tr><td><code>log</code></td><td><code>log</code></td><td>Write to escalation log file</td></tr>\n</table>\n<h3>Severity Levels</h3>\n<table><tr><td>Level</td><td>Use Case</td><td>Default Route</td></tr>\n</table>\n<table><tr><td><code>low</code></td><td>Informational, non-urgent</td><td>bead only</td></tr>\n<tr><td><code>medium</code></td><td>Needs attention soon</td><td>bead + mail mayor</td></tr>\n<tr><td><code>high</code></td><td>Urgent, needs human</td><td>bead + mail + email</td></tr>\n<tr><td><code>critical</code></td><td>Emergency, immediate</td><td>bead + mail + email + SMS</td></tr>\n</table>\n<p>\n---\n</p>\n<h2>Escalation Beads</h2>\n<h3>Bead Format</h3>\n<pre><code class=\"language-yaml\">id: gt-esc-abc123\n<p>\ntype: escalation\nstatus: open\ntitle: &quot;Plugin FAILED: rebuild-gt&quot;\nlabels:\n  - severity:high\n  - source:plugin:rebuild-gt\n  - acknowledged:false\n  - reescalated:false\n  - reescalation_count:0\ndescription: |\n  Build failed: make returned exit code 2\n</p>\n<p>\n  ## Context\n  - Source: plugin:rebuild-gt\n  - Original severity: medium\n  - Escalated at: 2026-01-11T19:00:00Z\ncreated_at: 2026-01-11T15:00:00Z</code></pre>\n</p>\n<h3>Label Schema</h3>\n<table><tr><td>Label</td><td>Values</td><td>Purpose</td></tr>\n</table>\n<table><tr><td><code>severity:<level></code></td><td>low, medium, high, critical</td><td>Current severity</td></tr>\n<tr><td><code>source:<type>:<name></code></td><td>plugin:rebuild-gt, patrol:deacon</td><td>What triggered it</td></tr>\n<tr><td><code>acknowledged:<bool></code></td><td>true, false</td><td>Has human acknowledged</td></tr>\n<tr><td><code>reescalated:<bool></code></td><td>true, false</td><td>Has been re-escalated</td></tr>\n<tr><td><code>reescalation_count:<n></code></td><td>0, 1, 2, ...</td><td>Times re-escalated</td></tr>\n<tr><td><code>original_severity:<level></code></td><td>low, medium, high</td><td>Initial severity</td></tr>\n</table>\n<p>\n---\n</p>\n<h2>Commands</h2>\n<h3>gt escalate</h3>\n<p>\nCreate a new escalation.\n</p>\n<pre><code class=\"language-bash\">gt escalate \\\n<p>\n  --severity=&lt;low|medium|high|critical&gt; \\\n  --subject=&quot;Short description&quot; \\\n  --body=&quot;Detailed explanation&quot; \\\n  [--source=&quot;plugin:rebuild-gt&quot;]</code></pre>\n</p>\n<strong>Flags:</strong>\n<ul><li><code>--severity</code> (required): Escalation severity level</li>\n<li><code>--subject</code> (required): Short description (becomes bead title)</li>\n<li><code>--body</code> (required): Detailed explanation (becomes bead description)</li>\n<li><code>--source</code>: Source identifier for tracking (e.g., \"plugin:rebuild-gt\")</li>\n<li><code>--dry-run</code>: Show what would happen without executing</li>\n<li><code>--json</code>: Output escalation bead ID as JSON</li>\n</ul>\n<strong>Exit codes:</strong>\n<ul><li>0: Success</li>\n<li>1: Config error or invalid flags</li>\n<li>2: Action failed (e.g., email send failed)</li>\n</ul>\n<strong>Example:</strong>\n<pre><code class=\"language-bash\">gt escalate \\\n<p>\n  --severity=high \\\n  --subject=&quot;Plugin FAILED: rebuild-gt&quot; \\\n  --body=&quot;Build failed: make returned exit code 2. Working directory: ~/gt/gastown/crew/george&quot; \\\n  --source=&quot;plugin:rebuild-gt&quot;\n</p>\n<h1>Output:</h1>\n<h1>âœ“ Created escalation gt-esc-abc123 (severity: high)</h1>\n<h1>â†’ Created bead</h1>\n<h1>â†’ Mailed mayor/</h1>\n<h1>â†’ Emailed steve@example.com</code></pre></h1>\n<h3>gt escalate ack</h3>\n<p>\nAcknowledge an escalation.\n</p>\n<pre><code class=\"language-bash\">gt escalate ack &lt;bead-id&gt; [--note=&quot;Investigating&quot;]</code></pre>\n<strong>Behavior:</strong>\n<ul><li>Sets <code>acknowledged:true</code> label</li>\n<li>Optionally adds note to bead</li>\n<li>Prevents re-escalation</li>\n</ul>\n<strong>Example:</strong>\n<pre><code class=\"language-bash\">gt escalate ack gt-esc-abc123 --note=&quot;Looking into it&quot;\n<h1>âœ“ Acknowledged gt-esc-abc123</code></pre></h1>\n<h3>gt escalate list</h3>\n<p>\nList escalations.\n</p>\n<pre><code class=\"language-bash\">gt escalate list [--severity=...] [--stale] [--unacked] [--all]</code></pre>\n<strong>Flags:</strong>\n<ul><li><code>--severity</code>: Filter by severity level</li>\n<li><code>--stale</code>: Show only stale (past threshold, unacked)</li>\n<li><code>--unacked</code>: Show only unacknowledged</li>\n<li><code>--all</code>: Include acknowledged/closed</li>\n<li><code>--json</code>: Output as JSON</li>\n</ul>\n<strong>Example:</strong>\n<pre><code class=\"language-bash\">gt escalate list --unacked\n<h1>ğŸ“¢ Unacknowledged Escalations (2)</h1>\n<p>\n#\n</p>\n<h1>  â— gt-esc-abc123 [HIGH] Plugin FAILED: rebuild-gt</h1>\n<h1>    Source: plugin:rebuild-gt Â· Age: 2h Â· Stale in: 2h</h1>\n<h1>  â— gt-esc-def456 [MEDIUM] Witness unresponsive</h1>\n<h1>    Source: patrol:deacon Â· Age: 30m Â· Stale in: 3h30m</code></pre></h1>\n<h3>gt escalate stale</h3>\n<p>\nCheck for and re-escalate stale escalations.\n</p>\n<pre><code class=\"language-bash\">gt escalate stale [--dry-run]</code></pre>\n<strong>Behavior:</strong>\n<ul><li>Queries unacked escalations older than <code>stale_threshold</code></li>\n<li>For each, bumps severity and re-executes route</li>\n<li>Respects <code>max_reescalations</code> limit</li>\n</ul>\n<strong>Example:</strong>\n<pre><code class=\"language-bash\">gt escalate stale\n<h1>ğŸ”„ Re-escalating stale escalations...</h1>\n<p>\n#\n</p>\n<h1>  gt-esc-abc123: medium â†’ high (age: 5h, reescalation: 1/2)</h1>\n<h1>  â†’ Emailed steve@example.com</h1>\n<p>\n#\n</p>\n<h1>âœ“ Re-escalated 1 escalation</code></pre></h1>\n<h3>gt escalate close</h3>\n<p>\nClose an escalation (resolved).\n</p>\n<pre><code class=\"language-bash\">gt escalate close &lt;bead-id&gt; [--reason=&quot;Fixed in commit abc123&quot;]</code></pre>\n<strong>Behavior:</strong>\n<ul><li>Sets status to closed</li>\n<li>Adds resolution note</li>\n<li>Records who closed it</li>\n</ul>\n<p>\n---\n</p>\n<h2>Implementation Details</h2>\n<h3>File: internal/cmd/escalate.go</h3>\n<pre><code class=\"language-go\">package cmd\n<p>\n// escalateCmd is the parent command for escalation management.\nvar escalateCmd = &amp;cobra.Command{\n    Use:   &quot;escalate&quot;,\n    Short: &quot;Manage escalations&quot;,\n    Long:  <code>Create, acknowledge, and manage escalations with severity-based routing.</code>,\n}\n</p>\n<p>\n// escalateCreateCmd creates a new escalation.\nvar escalateCreateCmd = &amp;cobra.Command{\n    Use:   &quot;escalate --severity=&lt;level&gt; --subject=&lt;text&gt; --body=&lt;text&gt;&quot;,\n    Short: &quot;Create a new escalation&quot;,\n    // ... implementation\n}\n</p>\n<p>\n// escalateAckCmd acknowledges an escalation.\nvar escalateAckCmd = &amp;cobra.Command{\n    Use:   &quot;ack &lt;bead-id&gt;&quot;,\n    Short: &quot;Acknowledge an escalation&quot;,\n    // ... implementation\n}\n</p>\n<p>\n// escalateListCmd lists escalations.\nvar escalateListCmd = &amp;cobra.Command{\n    Use:   &quot;list&quot;,\n    Short: &quot;List escalations&quot;,\n    // ... implementation\n}\n</p>\n<p>\n// escalateStaleCmd checks for stale escalations.\nvar escalateStaleCmd = &amp;cobra.Command{\n    Use:   &quot;stale&quot;,\n    Short: &quot;Re-escalate stale escalations&quot;,\n    // ... implementation\n}\n</p>\n<p>\n// escalateCloseCmd closes an escalation.\nvar escalateCloseCmd = &amp;cobra.Command{\n    Use:   &quot;close &lt;bead-id&gt;&quot;,\n    Short: &quot;Close an escalation&quot;,\n    // ... implementation\n}</code></pre>\n</p>\n<h3>File: internal/escalation/manager.go</h3>\n<pre><code class=\"language-go\">package escalation\n<p>\n// Manager handles escalation creation and routing.\ntype Manager struct {\n    config <em>config.EscalationConfig\n    beads  </em>beads.Client\n    mailer <em>mail.Client\n}\n</p>\n<p>\n// Escalate creates a new escalation and executes the route.\nfunc (m </em>Manager) Escalate(ctx context.Context, opts EscalateOptions) (<em>Escalation, error) {\n    // 1. Validate options\n    // 2. Create escalation bead\n    // 3. Look up route for severity\n    // 4. Execute each action\n    // 5. Return escalation with results\n}\n</p>\n<p>\n// Acknowledge marks an escalation as acknowledged.\nfunc (m </em>Manager) Acknowledge(ctx context.Context, beadID string, note string) error {\n    // 1. Load escalation bead\n    // 2. Set acknowledged:true label\n    // 3. Add note if provided\n}\n</p>\n<p>\n// ReescalateStale finds and re-escalates stale escalations.\nfunc (m <em>Manager) ReescalateStale(ctx context.Context) ([]Reescalation, error) {\n    // 1. Query unacked escalations older than threshold\n    // 2. For each, bump severity\n    // 3. Execute new route\n    // 4. Update labels\n}</code></pre>\n</p>\n<h3>File: internal/escalation/actions.go</h3>\n<pre><code class=\"language-go\">package escalation\n<p>\n// Action is an escalation route action.\ntype Action interface {\n    Execute(ctx context.Context, esc </em>Escalation) error\n    String() string\n}\n</p>\n<p>\n// BeadAction creates the escalation bead.\ntype BeadAction struct{}\n</p>\n<p>\n// MailAction sends gt mail.\ntype MailAction struct {\n    Target string // e.g., &quot;mayor&quot;\n}\n</p>\n<p>\n// EmailAction sends email.\ntype EmailAction struct {\n    Recipient string // from config.contacts\n}\n</p>\n<p>\n// SMSAction sends SMS.\ntype SMSAction struct {\n    Recipient string // from config.contacts\n}\n</p>\n<p>\n// ParseAction parses an action string into an Action.\nfunc ParseAction(s string) (Action, error) {\n    // &quot;bead&quot; -&gt; BeadAction{}\n    // &quot;mail:mayor&quot; -&gt; MailAction{Target: &quot;mayor&quot;}\n    // &quot;email:human&quot; -&gt; EmailAction{Recipient: &quot;human&quot;}\n    // etc.\n}</code></pre>\n</p>\n<h3>Email/SMS Implementation</h3>\n<p>\nFor v1, use simple exec of external commands:\n</p>\n<pre><code class=\"language-go\">// EmailAction sends email using the 'mail' command or similar.\n<p>\nfunc (a <em>EmailAction) Execute(ctx context.Context, esc </em>Escalation) error {\n    // Option 1: Use system mail command\n    // Option 2: Use sendgrid/ses API (future)\n    // Option 3: Use configured webhook\n</p>\n<p>\n    // For now, just log a placeholder\n    // Real implementation can be added based on user's infrastructure\n}</code></pre>\n</p>\n<p>\nThe email/SMS actions can start as stubs that log warnings, with real implementations added based on the user's infrastructure (SendGrid, Twilio, etc.).\n</p>\n<p>\n---\n</p>\n<h2>Integration Points</h2>\n<h3>Plugin System</h3>\n<p>\nPlugins use escalation for failure notification:\n</p>\n<pre><code class=\"language-markdown\"># In plugin.md execution section:\n<p>\nOn failure:</code></pre>bash\ngt escalate \\\n  --severity=medium \\\n  --subject=\"Plugin FAILED: rebuild-gt\" \\\n  --body=\"$ERROR\" \\\n  --source=\"plugin:rebuild-gt\"\n</p>\n<pre><code class=\"language-text\"></code></pre>\n<h3>Deacon Patrol</h3>\n<p>\nDeacon uses escalation for health issues:\n</p>\n<pre><code class=\"language-bash\"># In health-scan step:\n<p>\nif [ $unresponsive_cycles -ge 5 ]; then\n  gt escalate \\\n    --severity=high \\\n    --subject=&quot;Witness unresponsive: gastown&quot; \\\n    --body=&quot;Witness has been unresponsive for $unresponsive_cycles cycles&quot; \\\n    --source=&quot;patrol:deacon:health-scan&quot;\nfi</code></pre>\n</p>\n<h3>Stale Escalation Check</h3>\n<p>\nCan be either:\n1. A Deacon patrol step\n2. A plugin (dogfood!)\n3. Part of <code>gt escalate</code> itself (run periodically)\n</p>\n<p>\nRecommendation: Start as patrol step, migrate to plugin later.\n</p>\n<p>\n---\n</p>\n<h2>Testing Plan</h2>\n<h3>Unit Tests</h3>\n<ul><li>Config loading and validation</li>\n<li>Action parsing</li>\n<li>Severity level ordering</li>\n<li>Re-escalation logic</li>\n</ul>\n<h3>Integration Tests</h3>\n<ul><li>Create escalation â†’ bead exists</li>\n<li>Acknowledge â†’ label updated</li>\n<li>Stale detection â†’ re-escalation triggers</li>\n<li>Route execution â†’ all actions called</li>\n</ul>\n<h3>Manual Testing</h3>\n<p>\n1. <code>gt escalate --severity=low --subject=\"Test\" --body=\"Testing\"</code>\n2. <code>gt escalate list --unacked</code>\n3. <code>gt escalate ack <id></code>\n4. Wait for stale threshold, run <code>gt escalate stale</code>\n</p>\n<p>\n---\n</p>\n<h2>Dependencies</h2>\n<h3>Internal Dependencies (task order)</h3>\n<pre><code class=\"language-text\">gt-i9r20.2 (Config Schema)\n<p>\n    â”‚\n    â–¼\ngt-i9r20.1 (gt escalate command)\n    â”‚\n    â”œâ”€â”€â–¶ gt-i9r20.4 (gt escalate ack)\n    â”‚\n    â””â”€â”€â–¶ gt-i9r20.3 (Stale patrol)</code></pre>\n</p>\n<h3>External Dependencies</h3>\n<ul><li><code>bd create</code> for creating escalation beads</li>\n<li><code>bd list</code> for querying escalations</li>\n<li><code>bd label</code> for updating labels</li>\n<li><code>gt mail send</code> for mail action</li>\n</ul>\n<p>\n---\n</p>\n<h2>Open Questions (Resolved)</h2>\n<p>\n1. <strong>Where to store config?</strong> â†’ <code>settings/escalation.json</code> (follows existing pattern)\n2. <strong>How to implement email/SMS?</strong> â†’ Start with stubs, add real impl based on infrastructure\n3. <strong>Stale check: patrol step or plugin?</strong> â†’ Start as patrol step, can migrate to plugin\n4. <strong>Escalation bead type?</strong> â†’ <code>type: escalation</code> (new bead type)\n</p>\n<p>\n---\n</p>\n<h2>Future Enhancements</h2>\n<p>\n1. <strong>Slack integration</strong>: Post to Slack channels\n2. <strong>PagerDuty integration</strong>: Create incidents\n3. <strong>Escalation dashboard</strong>: Web UI for escalation management\n4. <strong>Scheduled escalations</strong>: \"Remind me in 2h if not resolved\"\n5. <strong>Escalation templates</strong>: Pre-defined escalation types\n</p>";
---

<DocsLayout title="Escalation System Design" description="> Detailed design for the Gas Town unified escalation system. > Written 2026-01-11, crew/george session. > Parent epic: gt-i9r20">
  <div class="markdown-content" set:html={content} />
</DocsLayout>
