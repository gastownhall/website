---
import DocsLayout from '../../layouts/DocsLayout.astro';

const content = "<p>\nComplete setup guide for Gas Town multi-agent orchestrator.\n</p>\n<h2>Prerequisites</h2>\n<h3>Required</h3>\n<table><tr><td>Tool</td><td>Version</td><td>Check</td><td>Install</td></tr>\n</table>\n<table><tr><td><strong>Go</strong></td><td>1.24+</td><td><code>go version</code></td><td>See <a href=\"https://go.dev/doc/install\">golang.org</a></td></tr>\n<tr><td><strong>Git</strong></td><td>2.20+</td><td><code>git --version</code></td><td>See below</td></tr>\n<tr><td><strong>Beads</strong></td><td>latest</td><td><code>bd version</code></td><td><code>go install github.com/steveyegge/beads/cmd/bd@latest</code></td></tr>\n</table>\n<h3>Optional (for Full Stack Mode)</h3>\n<table><tr><td>Tool</td><td>Version</td><td>Check</td><td>Install</td></tr>\n</table>\n<table><tr><td><strong>tmux</strong></td><td>3.0+</td><td><code>tmux -V</code></td><td>See below</td></tr>\n<tr><td><strong>Claude Code</strong> (default)</td><td>latest</td><td><code>claude --version</code></td><td>See <a href=\"https://claude.ai/claude-code\">claude.ai/claude-code</a></td></tr>\n<tr><td><strong>Codex CLI</strong> (optional)</td><td>latest</td><td><code>codex --version</code></td><td>See <a href=\"https://developers.openai.com/codex/cli\">developers.openai.com/codex/cli</a></td></tr>\n<tr><td><strong>OpenCode CLI</strong> (optional)</td><td>latest</td><td><code>opencode --version</code></td><td>See <a href=\"https://opencode.ai\">opencode.ai</a></td></tr>\n</table>\n<h2>Installing Prerequisites</h2>\n<h3>macOS</h3>\n<p>\n<pre><code class=\"language-bash\"># Install Homebrew if needed\n/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\n\n# Required\nbrew install go git\n\n# Optional (for full stack mode)\nbrew install tmux</code></pre>\n</p>\n<h3>Linux (Debian/Ubuntu)</h3>\n<p>\n<pre><code class=\"language-bash\"># Required\nsudo apt update\nsudo apt install -y git\n\n# Install Go (apt version may be outdated, use official installer)\nwget https://go.dev/dl/go1.24.linux-amd64.tar.gz\nsudo rm -rf /usr/local/go &amp;&amp; sudo tar -C /usr/local -xzf go1.24.linux-amd64.tar.gz\necho 'export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n\n# Optional (for full stack mode)\nsudo apt install -y tmux</code></pre>\n</p>\n<h3>Linux (Fedora/RHEL)</h3>\n<p>\n<pre><code class=\"language-bash\"># Required\nsudo dnf install -y git golang\n\n# Optional\nsudo dnf install -y tmux</code></pre>\n</p>\n<h3>Verify Prerequisites</h3>\n<p>\n<pre><code class=\"language-bash\"># Check all prerequisites\ngo version        # Should show go1.24 or higher\ngit --version     # Should show 2.20 or higher\ntmux -V           # (Optional) Should show 3.0 or higher</code></pre>\n</p>\n<h2>Installing Gas Town</h2>\n<h3>Step 1: Install the Binaries</h3>\n<p>\n<pre><code class=\"language-bash\"># Install Gas Town CLI\ngo install github.com/steveyegge/gastown/cmd/gt@latest\n\n# Install Beads (issue tracker)\ngo install github.com/steveyegge/beads/cmd/bd@latest\n\n# Verify installation\ngt version\nbd version</code></pre>\n</p>\n<p>\nIf <code>gt</code> is not found, ensure <code>$GOPATH/bin</code> (usually <code>~/go/bin</code>) is in your PATH:\n</p>\n<p>\n<pre><code class=\"language-bash\"># Add to ~/.bashrc, ~/.zshrc, or equivalent\nexport PATH=&quot;$PATH:$HOME/go/bin&quot;</code></pre>\n</p>\n<h3>Step 2: Create Your Workspace</h3>\n<p>\n<pre><code class=\"language-bash\"># Create a Gas Town workspace (HQ)\ngt install ~/gt\n\n# This creates:\n#   ~/gt/\n#   ├── CLAUDE.md          # Mayor role context\n#   ├── mayor/             # Mayor config and state\n#   ├── rigs/              # Project containers (initially empty)\n#   └── .beads/            # Town-level issue tracking</code></pre>\n</p>\n<h3>Step 3: Add a Project (Rig)</h3>\n<p>\n<pre><code class=\"language-bash\"># Add your first project\ngt rig add myproject https://github.com/you/repo.git\n\n# This clones the repo and sets up:\n#   ~/gt/myproject/\n#   ├── .beads/            # Project issue tracking\n#   ├── mayor/rig/         # Mayor's clone (canonical)\n#   ├── refinery/rig/      # Merge queue processor\n#   ├── witness/           # Worker monitor\n#   └── polecats/          # Worker clones (created on demand)</code></pre>\n</p>\n<h3>Step 4: Verify Installation</h3>\n<p>\n<pre><code class=\"language-bash\">cd ~/gt\ngt doctor              # Run health checks\ngt status              # Show workspace status</code></pre>\n</p>\n<h3>Step 5: Configure Agents (Optional)</h3>\n<p>\nGas Town supports built-in runtimes (<code>claude</code>, <code>gemini</code>, <code>codex</code>) plus custom agent aliases.\n</p>\n<p>\n<pre><code class=\"language-bash\"># List available agents\ngt config agent list\n\n# Create an alias (aliases can encode model/thinking flags)\ngt config agent set codex-low &quot;codex --thinking low&quot;\ngt config agent set claude-haiku &quot;claude --model haiku --dangerously-skip-permissions&quot;\n\n# Set the town default agent (used when a rig doesn't specify one)\ngt config default-agent codex-low</code></pre>\n</p>\n<p>\nYou can also override the agent per command without changing defaults:\n</p>\n<p>\n<pre><code class=\"language-bash\">gt start --agent codex-low\ngt sling gt-abc12 myproject --agent claude-haiku</code></pre>\n</p>\n<h2>Minimal Mode vs Full Stack Mode</h2>\n<p>\nGas Town supports two operational modes:\n</p>\n<h3>Minimal Mode (No Daemon)</h3>\n<p>\nRun individual runtime instances manually. Gas Town only tracks state.\n</p>\n<p>\n<pre><code class=\"language-bash\"># Create and assign work\ngt convoy create &quot;Fix bugs&quot; gt-abc12\ngt sling gt-abc12 myproject\n\n# Run runtime manually\ncd ~/gt/myproject/polecats/&lt;worker&gt;\nclaude --resume          # Claude Code\n# or: codex              # Codex CLI\n\n# Check progress\ngt convoy list</code></pre>\n</p>\n<strong>When to use</strong>: Testing, simple workflows, or when you prefer manual control.\n<h3>Full Stack Mode (With Daemon)</h3>\n<p>\nAgents run in tmux sessions. Daemon manages lifecycle automatically.\n</p>\n<p>\n<pre><code class=\"language-bash\"># Start the daemon\ngt daemon start\n\n# Create and assign work (workers spawn automatically)\ngt convoy create &quot;Feature X&quot; gt-abc12 gt-def34\ngt sling gt-abc12 myproject\ngt sling gt-def34 myproject\n\n# Monitor on dashboard\ngt convoy list\n\n# Attach to any agent session\ngt mayor attach\ngt witness attach myproject</code></pre>\n</p>\n<strong>When to use</strong>: Production workflows with multiple concurrent agents.\n<h3>Choosing Roles</h3>\n<p>\nGas Town is modular. Enable only what you need:\n</p>\n<table><tr><td>Configuration</td><td>Roles</td><td>Use Case</td></tr>\n</table>\n<table><tr><td><strong>Polecats only</strong></td><td>Workers</td><td>Manual spawning, no monitoring</td></tr>\n<tr><td><strong>+ Witness</strong></td><td>+ Monitor</td><td>Automatic lifecycle, stuck detection</td></tr>\n<tr><td><strong>+ Refinery</strong></td><td>+ Merge queue</td><td>MR review, code integration</td></tr>\n<tr><td><strong>+ Mayor</strong></td><td>+ Coordinator</td><td>Cross-project coordination</td></tr>\n</table>\n<h2>Troubleshooting</h2>\n<h3><code>gt: command not found</code></h3>\n<p>\nYour Go bin directory is not in PATH:\n</p>\n<p>\n<pre><code class=\"language-bash\"># Add to your shell config (~/.bashrc, ~/.zshrc)\nexport PATH=&quot;$PATH:$HOME/go/bin&quot;\nsource ~/.bashrc  # or restart terminal</code></pre>\n</p>\n<h3><code>bd: command not found</code></h3>\n<p>\nBeads CLI not installed:\n</p>\n<p>\n<pre><code class=\"language-bash\">go install github.com/steveyegge/beads/cmd/bd@latest</code></pre>\n</p>\n<h3><code>gt doctor</code> shows errors</h3>\n<p>\nRun with <code>--fix</code> to auto-repair common issues:\n</p>\n<p>\n<pre><code class=\"language-bash\">gt doctor --fix</code></pre>\n</p>\n<p>\nFor persistent issues, check specific errors:\n</p>\n<p>\n<pre><code class=\"language-bash\">gt doctor --verbose</code></pre>\n</p>\n<h3>Daemon not starting</h3>\n<p>\nCheck if tmux is installed and working:\n</p>\n<p>\n<pre><code class=\"language-bash\">tmux -V                    # Should show version\ntmux new-session -d -s test &amp;&amp; tmux kill-session -t test  # Quick test</code></pre>\n</p>\n<h3>Git authentication issues</h3>\n<p>\nEnsure SSH keys or credentials are configured:\n</p>\n<p>\n<pre><code class=\"language-bash\"># Test SSH access\nssh -T git@github.com\n\n# Or configure credential helper\ngit config --global credential.helper cache</code></pre>\n</p>\n<h3>Beads sync issues</h3>\n<p>\nIf beads aren't syncing across clones:\n</p>\n<p>\n<pre><code class=\"language-bash\">cd ~/gt/myproject/mayor/rig\nbd sync --status           # Check sync status\nbd doctor                  # Run beads health check</code></pre>\n</p>\n<h2>Updating</h2>\n<p>\nTo update Gas Town and Beads:\n</p>\n<p>\n<pre><code class=\"language-bash\">go install github.com/steveyegge/gastown/cmd/gt@latest\ngo install github.com/steveyegge/beads/cmd/bd@latest\ngt doctor --fix            # Fix any post-update issues</code></pre>\n</p>\n<h2>Uninstalling</h2>\n<p>\n<pre><code class=\"language-bash\"># Remove binaries\nrm $(which gt) $(which bd)\n\n# Remove workspace (CAUTION: deletes all work)\nrm -rf ~/gt</code></pre>\n</p>\n<h2>Next Steps</h2>\n<p>\nAfter installation:\n</p>\n<ol><li><strong>Read the README</strong> - Core concepts and workflows</li>\n<li><strong>Try a simple workflow</strong> - <code>bd create &quot;Test task&quot;</code> then <code>gt convoy create &quot;Test&quot; &lt;bead-id&gt;</code></li>\n<li><strong>Explore docs</strong> - <code>docs/reference.md</code> for command reference</li>\n<li><strong>Run doctor regularly</strong> - <code>gt doctor</code> catches problems early</li></ol>";
---

<DocsLayout title="Installing Gas Town" description="Complete setup guide for Gas Town multi-agent orchestrator.">
  <div class="markdown-content" set:html={content} />
</DocsLayout>
