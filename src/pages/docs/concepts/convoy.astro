---
import DocsLayout from '../../../layouts/DocsLayout.astro';

const content = "<p>\nConvoys are the primary unit for tracking batched work across rigs.\n</p>\n<h2>Quick Start</h2>\n<p>\n<pre><code class=\"language-bash\"># Create a convoy tracking some issues\ngt convoy create &quot;Feature X&quot; gt-abc gt-def --notify overseer\n\n# Check progress\ngt convoy status hq-cv-abc\n\n# List active convoys (the dashboard)\ngt convoy list\n\n# See all convoys including landed ones\ngt convoy list --all</code></pre>\n</p>\n<h2>Concept</h2>\n<p>\nA <strong>convoy</strong> is a persistent tracking unit that monitors related issues across\nmultiple rigs. When you kick off work - even a single issue - a convoy tracks it\nso you can see when it lands and what was included.\n</p>\n<p>\n<pre><code class=\"language-text\">ğŸšš Convoy (hq-cv-abc)\n                         â”‚\n            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n            â”‚            â”‚            â”‚\n            â–¼            â–¼            â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚ gt-xyz  â”‚  â”‚ gt-def  â”‚  â”‚ bd-abc  â”‚\n       â”‚ gastown â”‚  â”‚ gastown â”‚  â”‚  beads  â”‚\n       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜\n            â”‚            â”‚            â”‚\n            â–¼            â–¼            â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚  nux    â”‚  â”‚ furiosa â”‚  â”‚  amber  â”‚\n       â”‚(polecat)â”‚  â”‚(polecat)â”‚  â”‚(polecat)â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                         â”‚\n                    &quot;the swarm&quot;\n                    (ephemeral)</code></pre>\n</p>\n<h2>Convoy vs Swarm</h2>\n<table><tr><td>Concept</td><td>Persistent?</td><td>ID</td><td>Description</td></tr>\n</table>\n<table><tr><td><strong>Convoy</strong></td><td>Yes</td><td>hq-cv-<em></td><td>Tracking unit. What you create, track, get notified about.</td></tr>\n<tr><td><strong>Swarm</strong></td><td>No</td><td>None</td><td>Ephemeral. \"The workers currently on this convoy's issues.\"</td></tr>\n</table>\n<p>\nWhen you \"kick off a swarm\", you're really:\n</p>\n<ol><li>Creating a convoy (the tracking unit)</li>\n<li>Assigning polecats to the tracked issues</li>\n<li>The \"swarm\" is just those polecats while they're working</li>\n</ol>\n<p>\nWhen issues close, the convoy lands and notifies you. The swarm dissolves.\n</p>\n<h2>Convoy Lifecycle</h2>\n<p>\n<pre><code class=\"language-text\">OPEN â”€â”€(all issues close)â”€â”€â–º LANDED/CLOSED\n  â†‘                              â”‚\n  â””â”€â”€(add more issues)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n       (auto-reopens)</code></pre>\n</p>\n<table><tr><td>State</td><td>Description</td></tr>\n</table>\n<table><tr><td><code>open</code></td><td>Active tracking, work in progress</td></tr>\n<tr><td><code>closed</code></td><td>All tracked issues closed, notification sent</td></tr>\n</table>\n<p>\nAdding issues to a closed convoy reopens it automatically.\n</p>\n<h2>Commands</h2>\n<h3>Create a Convoy</h3>\n<p>\n<pre><code class=\"language-bash\"># Track multiple issues across rigs\ngt convoy create &quot;Deploy v2.0&quot; gt-abc bd-xyz --notify gastown/joe\n\n# Track a single issue (still creates convoy for dashboard visibility)\ngt convoy create &quot;Fix auth bug&quot; gt-auth-fix\n\n# With default notification (from config)\ngt convoy create &quot;Feature X&quot; gt-a gt-b gt-c</code></pre>\n</p>\n<h3>Add Issues</h3>\n<p>\n> <strong>Note</strong>: <code>gt convoy add</code> is not yet implemented. Use <code>bd dep add</code> directly:\n</p>\n<p>\n<pre><code class=\"language-bash\"># Add issue to existing convoy\nbd dep add hq-cv-abc gt-new-issue --type=tracks\n\n# Adding to closed convoy requires reopening first\nbd update hq-cv-abc --status=open\nbd dep add hq-cv-abc gt-followup-fix --type=tracks</code></pre>\n</p>\n<h3>Check Status</h3>\n<p>\n<pre><code class=\"language-bash\"># Show issues and active workers (the swarm)\ngt convoy status hq-abc\n\n# All active convoys (the dashboard)\ngt convoy status</code></pre>\n</p>\n<p>\nExample output:\n<pre><code class=\"language-text\">ğŸšš hq-cv-abc: Deploy v2.0\n\n  Status:    â—\n  Progress:  2/4 completed\n  Created:   2025-12-30T10:15:00-08:00\n\n  Tracked Issues:\n    âœ“ gt-xyz: Update API endpoint [task]\n    âœ“ bd-abc: Fix validation [bug]\n    â—‹ bd-ghi: Update docs [task]\n    â—‹ gt-jkl: Deploy to prod [task]</code></pre>\n</p>\n<h3>List Convoys (Dashboard)</h3>\n<p>\n<pre><code class=\"language-bash\"># Active convoys (default) - the primary attention view\ngt convoy list\n\n# All convoys including landed\ngt convoy list --all\n\n# Only landed convoys\ngt convoy list --status=closed\n\n# JSON output\ngt convoy list --json</code></pre>\n</p>\n<p>\nExample output:\n<pre><code class=\"language-text\">Convoys\n\n  ğŸšš hq-cv-w3nm6: Feature X â—\n  ğŸšš hq-cv-abc12: Bug fixes â—\n\nUse 'gt convoy status &lt;id&gt;' for detailed view.</code></pre>\n</p>\n<h2>Notifications</h2>\n<p>\nWhen a convoy lands (all tracked issues closed), subscribers are notified:\n</p>\n<p>\n<pre><code class=\"language-bash\"># Explicit subscriber\ngt convoy create &quot;Feature X&quot; gt-abc --notify gastown/joe\n\n# Multiple subscribers\ngt convoy create &quot;Feature X&quot; gt-abc --notify mayor/ --notify --human</code></pre>\n</p>\n<p>\nNotification content:\n<pre><code class=\"language-text\">ğŸšš Convoy Landed: Deploy v2.0 (hq-cv-abc)\n\nIssues (3):\n  âœ“ gt-xyz: Update API endpoint\n  âœ“ gt-def: Add validation\n  âœ“ bd-abc: Update docs\n\nDuration: 2h 15m</code></pre>\n</p>\n<h2>Auto-Convoy on Sling</h2>\n<p>\nWhen you sling a single issue without an existing convoy:\n</p>\n<p>\n<pre><code class=\"language-bash\">gt sling bd-xyz beads/amber</code></pre>\n</p>\n<p>\nThis auto-creates a convoy so all work appears in the dashboard:\n</p>\n<ol><li>Creates convoy: \"Work: bd-xyz\"</li>\n<li>Tracks the issue</li>\n<li>Assigns the polecat</li>\n</ol>\n<p>\nEven \"swarm of one\" gets convoy visibility.\n</p>\n<h2>Cross-Rig Tracking</h2>\n<p>\nConvoys live in town-level beads (<code>hq-cv-*</code> prefix) and can track issues from any rig:\n</p>\n<p>\n<pre><code class=\"language-bash\"># Track issues from multiple rigs\ngt convoy create &quot;Full-stack feature&quot; \\\n  gt-frontend-abc \\\n  gt-backend-def \\\n  bd-docs-xyz</code></pre>\n</p>\n<p>\nThe <code>tracks</code> relation is:\n</p>\n<ul><li><strong>Non-blocking</strong>: doesn't affect issue workflow</li>\n<li><strong>Additive</strong>: can add issues anytime</li>\n<li><strong>Cross-rig</strong>: convoy in hq-</em>, issues in gt-<em>, bd-</em>, etc.</li>\n</ul>\n<h2>Convoy vs Rig Status</h2>\n<table><tr><td>View</td><td>Scope</td><td>Shows</td></tr>\n</table>\n<table><tr><td><code>gt convoy status [id]</code></td><td>Cross-rig</td><td>Issues tracked by convoy + workers</td></tr>\n<tr><td><code>gt rig status &lt;rig&gt;</code></td><td>Single rig</td><td>All workers in rig + their convoy membership</td></tr>\n</table>\n<p>\nUse convoys for \"what's the status of this batch of work?\"\nUse rig status for \"what's everyone in this rig working on?\"\n</p>\n<h2>See Also</h2>\n<ul><li><a href=\"/docs/concepts/propulsion-principle\">Propulsion Principle</a> - Worker execution model</li>\n<li><a href=\"/docs/design/mail-protocol\">Mail Protocol</a> - Notification delivery</li></ul>";
---

<DocsLayout title="Convoys" description="Convoys are the primary unit for tracking batched work across rigs.">
  <div class="markdown-content" set:html={content} />
</DocsLayout>
